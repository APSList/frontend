<div class="m-4">
  <div class="flex flex-column md:flex-row md:justify-content-between md:align-items-center gap-3">
    <h2 class="m-0">Customers</h2>
    <p-button label="Add New" icon="pi pi-plus" (onClick)="addNew()"></p-button>
  </div>

  <p-table [value]="rows()" [loading]="loading()">
    <ng-template pTemplate="header">
      <tr>
        <th>Code</th>
        <th>Name</th>
        <th>Email</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-b>
      <tr class="cursor-pointer">
        <td>{{ b.id }}</td>
        <td>{{ b.name }}</td>
        <td>{{ b.email}}</td>
        <td>
          <p-tag [value]="b.status"></p-tag>
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="6" class="text-center p-4">No customers found.</td>
      </tr>
    </ng-template>
  </p-table>

  <div *ngIf="error()" class="mt-3 p-3 border-round bg-red-50 text-red-700">
    {{ error() }}
  </div>
</div>
